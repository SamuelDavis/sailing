import{S as se,i as ie,s as re,a as R,e as p,b,c as U,t as fe,d as le,f as o,l as S,g as me,n as T,h as ae,r as ge,j as Y,k as he,m as _e,o as ye,p as ve,q as ze,u as P,v as D,w as E,x as J,y as N,z as V,A as j,B as q,C as B,D as pe,E as Fe,F as Q}from"./vendor.799e28b9.js";const Ce=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))u(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&u(n)}).observe(document,{childList:!0,subtree:!0});function r(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerpolicy&&(i.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?i.credentials="include":l.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function u(l){if(l.ep)return;l.ep=!0;const i=r(l);fetch(l.href,i)}};Ce();const be=Math.PI,Z=10;class W{constructor(e=0,r=0){this.direction=e,this.magnitude=r}}function Me(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))}function we(t){return t*180/Math.PI}function De(t){return Object.entries(t).map(([e,r])=>`--${e}:${r};`).join("")}function X(t){return"set"in t&&"update"in t}const{window:Le}=ye;function Ae(t){let e,r,u,l,i=[{style:t[2]},t[5]],n={};for(let a=0;a<i.length;a+=1)n=R(n,i[a]);return{c(){e=p("div"),r=p("hr"),b(r,"class","svelte-hh1u6z"),U(e,n),fe(e,"svelte-hh1u6z",!0)},m(a,m){le(a,e,m),o(e,r),t[9](e),u||(l=[S(Le,"pointermove",t[4]),S(e,"pointerdown",t[3].bind(null,!0))],u=!0)},p(a,[m]){U(e,n=me(i,[m&4&&{style:a[2]},m&32&&a[5]])),fe(e,"svelte-hh1u6z",!0)},i:T,o:T,d(a){a&&ae(e),t[9](null),u=!1,ge(l)}}}function Ie(t,e,r){let u;const l=["maxMagnitude","size","vector"];let i=Y(e,l),n,a=T,m=()=>(a(),a=he(g,s=>r(8,n=s)),g);t.$$.on_destroy.push(()=>a());let{maxMagnitude:f=Z}=e,{size:h=50}=e,{vector:g}=e;m();let _,c=!1;function L(s){c=X(g)&&s,c?window.document.body.classList.add("no-select"):window.document.body.classList.remove("no-select")}function y(s){if(s.pressure<.1&&L(!1),!c)return;const A=_.getBoundingClientRect(),I=s.clientX-A.x-A.width/2,z=-(s.clientY-A.y-A.height/2);ve(g,n.direction=Math.atan2(z,I),n);let C=Me(I,z);C=C/(h/2),C=Math.min(f,C*f),ve(g,n.magnitude=C,n)}function v(s){ze[s?"unshift":"push"](()=>{_=s,r(1,_)})}return t.$$set=s=>{e=R(R({},e),_e(s)),r(5,i=Y(e,l)),"maxMagnitude"in s&&r(6,f=s.maxMagnitude),"size"in s&&r(7,h=s.size),"vector"in s&&m(r(0,g=s.vector))},t.$$.update=()=>{t.$$.dirty&448&&r(2,u=De({direction:`${-n.direction}rad`,magnitude:n.magnitude/f,size:`${h}px`}))},[g,_,u,L,y,i,f,h,n,v]}class Oe extends se{constructor(e){super();ie(this,e,Ie,Ae,re,{maxMagnitude:6,size:7,vector:0})}}function Pe(t){let e,r,u,l,i,n,a,m=t[3].direction.toFixed(2)+"",f,h,g,_=we(t[3].direction).toFixed(2)+"",c,L,y,v,s,A,I,z,C=t[3].magnitude.toFixed(2)+"",x,oe,$,ue,w,H,ce,G,O,F,ee,de;O=new Oe({props:{vector:t[2],maxMagnitude:t[0]}});let te=[t[4]],K={};for(let d=0;d<te.length;d+=1)K=R(K,te[d]);return{c(){e=p("tr"),r=p("td"),u=P(t[1]),l=D(),i=p("td"),n=p("label"),a=p("span"),f=P(m),h=p("sup"),h.textContent="rad",g=P(`
        /
        `),c=P(_),L=p("sup"),L.textContent="deg",y=D(),v=p("input"),A=D(),I=p("td"),z=p("label"),x=P(C),oe=P(" / "),$=P(t[0]),ue=D(),w=p("input"),ce=D(),G=p("td"),E(O.$$.fragment),b(r,"class","svelte-1smtzf4"),b(v,"type","range"),b(v,"min",-be),b(v,"max",be),b(v,"step",.01),v.disabled=s=!X(t[2]),b(n,"class","svelte-1smtzf4"),b(i,"class","svelte-1smtzf4"),b(w,"type","range"),b(w,"min",0),b(w,"max",Z),b(w,"step",1),w.disabled=H=!X(t[2]),b(z,"class","svelte-1smtzf4"),b(I,"class","svelte-1smtzf4"),b(G,"class","svelte-1smtzf4"),U(e,K)},m(d,M){le(d,e,M),o(e,r),o(r,u),o(e,l),o(e,i),o(i,n),o(n,a),o(a,f),o(a,h),o(a,g),o(a,c),o(a,L),o(n,y),o(n,v),J(v,t[3].direction),o(e,A),o(e,I),o(I,z),o(z,x),o(z,oe),o(z,$),o(z,ue),o(z,w),J(w,t[3].magnitude),o(e,ce),o(e,G),N(O,G,null),F=!0,ee||(de=[S(v,"change",t[5]),S(v,"input",t[5]),S(w,"change",t[6]),S(w,"input",t[6])],ee=!0)},p(d,[M]){(!F||M&2)&&V(u,d[1]),(!F||M&8)&&m!==(m=d[3].direction.toFixed(2)+"")&&V(f,m),(!F||M&8)&&_!==(_=we(d[3].direction).toFixed(2)+"")&&V(c,_),(!F||M&4&&s!==(s=!X(d[2])))&&(v.disabled=s),M&8&&J(v,d[3].direction),(!F||M&8)&&C!==(C=d[3].magnitude.toFixed(2)+"")&&V(x,C),(!F||M&1)&&V($,d[0]),(!F||M&4&&H!==(H=!X(d[2])))&&(w.disabled=H),M&8&&J(w,d[3].magnitude);const ne={};M&4&&(ne.vector=d[2]),M&1&&(ne.maxMagnitude=d[0]),O.$set(ne),U(e,K=me(te,[M&16&&d[4]]))},i(d){F||(j(O.$$.fragment,d),F=!0)},o(d){q(O.$$.fragment,d),F=!1},d(d){d&&ae(e),B(O),ee=!1,ge(de)}}}function Re(t,e,r){const u=["maxMagnitude","label","vector"];let l=Y(e,u),i,n=T,a=()=>(n(),n=he(h,c=>r(3,i=c)),h);t.$$.on_destroy.push(()=>n());let{maxMagnitude:m=Z}=e,{label:f}=e,{vector:h}=e;a();function g(){i.direction=pe(this.value),h.set(i)}function _(){i.magnitude=pe(this.value),h.set(i)}return t.$$set=c=>{e=R(R({},e),_e(c)),r(4,l=Y(e,u)),"maxMagnitude"in c&&r(0,m=c.maxMagnitude),"label"in c&&r(1,f=c.label),"vector"in c&&a(r(2,h=c.vector))},[m,f,h,i,l,g,_]}class k extends se{constructor(e){super();ie(this,e,Re,Pe,re,{maxMagnitude:0,label:1,vector:2})}}function Se(t){let e,r,u,l,i,n,a,m,f,h,g,_,c,L,y,v;return a=new k({props:{class:"wind",vector:t[0],label:"Wind"}}),f=new k({props:{class:"water",vector:t[1],label:"Water"}}),g=new k({props:{class:"sails",vector:t[2],label:"Sails"}}),c=new k({props:{class:"rudder",vector:t[3],label:"Rudder"}}),y=new k({props:{class:"ship",vector:t[5],maxMagnitude:Z*t[4].length,label:"Ship"}}),{c(){e=p("main"),r=p("form"),u=p("table"),l=p("thead"),l.innerHTML=`<tr><th>Source</th> 
          <th>Direction</th> 
          <th>Magnitude</th> 
          <th>Facing</th></tr>`,i=D(),n=p("tbody"),E(a.$$.fragment),m=D(),E(f.$$.fragment),h=D(),E(g.$$.fragment),_=D(),E(c.$$.fragment),L=D(),E(y.$$.fragment),b(u,"class","svelte-2rncup"),b(e,"class","svelte-2rncup")},m(s,A){le(s,e,A),o(e,r),o(r,u),o(u,l),o(u,i),o(u,n),N(a,n,null),o(n,m),N(f,n,null),o(n,h),N(g,n,null),o(n,_),N(c,n,null),o(n,L),N(y,n,null),v=!0},p:T,i(s){v||(j(a.$$.fragment,s),j(f.$$.fragment,s),j(g.$$.fragment,s),j(c.$$.fragment,s),j(y.$$.fragment,s),v=!0)},o(s){q(a.$$.fragment,s),q(f.$$.fragment,s),q(g.$$.fragment,s),q(c.$$.fragment,s),q(y.$$.fragment,s),v=!1},d(s){s&&ae(e),B(a),B(f),B(g),B(c),B(y)}}}function Ee(t){const e=Q(new W(0,1)),r=Q(new W(0,1)),u=Q(new W(0,1)),l=Q(new W(0,1)),i=[e,r,u,l],n=Fe(i,a=>{let m=0,f=0;for(const _ of a)m+=Math.cos(_.direction)*_.magnitude,f+=Math.sin(_.direction)*_.magnitude;const h=Math.atan2(f,m),g=Me(m,f);return new W(h,g)});return[e,r,u,l,i,n]}class Ne extends se{constructor(e){super();ie(this,e,Ee,Se,re,{})}}new Ne({target:document.getElementById("app")});
