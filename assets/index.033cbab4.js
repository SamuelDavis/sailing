import{S as ae,i as le,s as ie,a as O,e as h,b,c as Y,t as me,d as re,f as o,l as P,g as ge,n as B,h as oe,r as ve,j as J,k as he,m as _e,o as Fe,p as pe,q as ke,u as q,v as z,w as R,x as Q,y as S,z as T,A as E,B as N,C as j,D as be,E as ze,F as Z}from"./vendor.799e28b9.js";const Ce=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))u(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&u(n)}).observe(document,{childList:!0,subtree:!0});function l(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function u(r){if(r.ep)return;r.ep=!0;const a=l(r);fetch(r.href,a)}};Ce();const Me=Math.PI,x=10;class V{constructor(e=0,l=0){this.direction=e,this.magnitude=l}}function we(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))}function ye(t){return t*180/Math.PI}function De(t){return Object.entries(t).map(([e,l])=>`--${e}:${l};`).join("")}function W(t){return"set"in t&&"update"in t}const{window:Le}=Fe;function Ae(t){let e,l,u,r,a=[{style:t[2]},t[5]],n={};for(let i=0;i<a.length;i+=1)n=O(n,a[i]);return{c(){e=h("div"),l=h("hr"),b(l,"class","svelte-hh1u6z"),Y(e,n),me(e,"svelte-hh1u6z",!0)},m(i,m){re(i,e,m),o(e,l),t[9](e),u||(r=[P(Le,"pointermove",t[4]),P(e,"pointerdown",t[3].bind(null,!0))],u=!0)},p(i,[m]){Y(e,n=ge(a,[m&4&&{style:i[2]},m&32&&i[5]])),me(e,"svelte-hh1u6z",!0)},i:B,o:B,d(i){i&&oe(e),t[9](null),u=!1,ve(r)}}}function Ie(t,e,l){let u;const r=["maxMagnitude","size","vector"];let a=J(e,r),n,i=B,m=()=>(i(),i=he(g,s=>l(8,n=s)),g);t.$$.on_destroy.push(()=>i());let{maxMagnitude:f=x}=e,{size:v=50}=e,{vector:g}=e;m();let _,c=!1;function C(s){c=W(g)&&s,c?window.document.body.classList.add("no-select"):window.document.body.classList.remove("no-select")}function F(s){if(s.pressure<.1&&C(!1),!c)return;const D=_.getBoundingClientRect(),A=s.clientX-D.x-D.width/2,L=-(s.clientY-D.y-D.height/2);pe(g,n.direction=Math.atan2(L,A),n);let w=we(A,L);w=w/(v/2),w=Math.min(f,w*f),pe(g,n.magnitude=w,n)}function p(s){ke[s?"unshift":"push"](()=>{_=s,l(1,_)})}return t.$$set=s=>{e=O(O({},e),_e(s)),l(5,a=J(e,r)),"maxMagnitude"in s&&l(6,f=s.maxMagnitude),"size"in s&&l(7,v=s.size),"vector"in s&&m(l(0,g=s.vector))},t.$$.update=()=>{t.$$.dirty&448&&l(2,u=De({direction:`${-n.direction}rad`,magnitude:n.magnitude/f,size:`${v}px`}))},[g,_,u,C,F,a,f,v,n,p]}class qe extends ae{constructor(e){super();le(this,e,Ie,Ae,ie,{maxMagnitude:6,size:7,vector:0})}}function Oe(t){let e,l,u,r,a,n,i,m=t[3].direction.toFixed(2)+"",f,v,g,_=ye(t[3].direction).toFixed(2)+"",c,C,F,p,s,D,A,L,w,H=t[3].magnitude.toFixed(2)+"",$,ue,ee,ce,y,G,de,K,I,k,te,fe;I=new qe({props:{vector:t[2],maxMagnitude:t[0]}});let ne=[t[4]],U={};for(let d=0;d<ne.length;d+=1)U=O(U,ne[d]);return{c(){e=h("tr"),l=h("td"),u=q(t[1]),r=z(),a=h("td"),n=h("label"),i=h("span"),f=q(m),v=h("sup"),v.textContent="rad",g=q(`
        /
        `),c=q(_),C=h("sup"),C.textContent="deg",F=z(),p=h("input"),D=z(),A=h("td"),L=h("label"),w=h("span"),$=q(H),ue=q(" / "),ee=q(t[0]),ce=z(),y=h("input"),de=z(),K=h("td"),R(I.$$.fragment),b(l,"class","svelte-1a1k43v"),b(i,"class","svelte-1a1k43v"),b(p,"type","range"),b(p,"min",-Me),b(p,"max",Me),b(p,"step",.01),p.disabled=s=!W(t[2]),b(n,"class","svelte-1a1k43v"),b(a,"class","svelte-1a1k43v"),b(w,"class","svelte-1a1k43v"),b(y,"type","range"),b(y,"min",0),b(y,"max",x),b(y,"step",1),y.disabled=G=!W(t[2]),b(L,"class","svelte-1a1k43v"),b(A,"class","svelte-1a1k43v"),b(K,"class","svelte-1a1k43v"),Y(e,U)},m(d,M){re(d,e,M),o(e,l),o(l,u),o(e,r),o(e,a),o(a,n),o(n,i),o(i,f),o(i,v),o(i,g),o(i,c),o(i,C),o(n,F),o(n,p),Q(p,t[3].direction),o(e,D),o(e,A),o(A,L),o(L,w),o(w,$),o(w,ue),o(w,ee),o(L,ce),o(L,y),Q(y,t[3].magnitude),o(e,de),o(e,K),S(I,K,null),k=!0,te||(fe=[P(p,"change",t[5]),P(p,"input",t[5]),P(y,"change",t[6]),P(y,"input",t[6])],te=!0)},p(d,[M]){(!k||M&2)&&T(u,d[1]),(!k||M&8)&&m!==(m=d[3].direction.toFixed(2)+"")&&T(f,m),(!k||M&8)&&_!==(_=ye(d[3].direction).toFixed(2)+"")&&T(c,_),(!k||M&4&&s!==(s=!W(d[2])))&&(p.disabled=s),M&8&&Q(p,d[3].direction),(!k||M&8)&&H!==(H=d[3].magnitude.toFixed(2)+"")&&T($,H),(!k||M&1)&&T(ee,d[0]),(!k||M&4&&G!==(G=!W(d[2])))&&(y.disabled=G),M&8&&Q(y,d[3].magnitude);const se={};M&4&&(se.vector=d[2]),M&1&&(se.maxMagnitude=d[0]),I.$set(se),Y(e,U=ge(ne,[M&16&&d[4]]))},i(d){k||(E(I.$$.fragment,d),k=!0)},o(d){N(I.$$.fragment,d),k=!1},d(d){d&&oe(e),j(I),te=!1,ve(fe)}}}function Pe(t,e,l){const u=["maxMagnitude","label","vector"];let r=J(e,u),a,n=B,i=()=>(n(),n=he(v,c=>l(3,a=c)),v);t.$$.on_destroy.push(()=>n());let{maxMagnitude:m=x}=e,{label:f}=e,{vector:v}=e;i();function g(){a.direction=be(this.value),v.set(a)}function _(){a.magnitude=be(this.value),v.set(a)}return t.$$set=c=>{e=O(O({},e),_e(c)),l(4,r=J(e,u)),"maxMagnitude"in c&&l(0,m=c.maxMagnitude),"label"in c&&l(1,f=c.label),"vector"in c&&i(l(2,v=c.vector))},[m,f,v,a,r,g,_]}class X extends ae{constructor(e){super();le(this,e,Pe,Oe,ie,{maxMagnitude:0,label:1,vector:2})}}function Re(t){let e,l,u,r,a,n,i,m,f,v,g,_,c,C,F,p;return i=new X({props:{class:"wind",vector:t[0],label:"Wind"}}),f=new X({props:{class:"water",vector:t[1],label:"Water"}}),g=new X({props:{class:"sails",vector:t[2],label:"Sails"}}),c=new X({props:{class:"rudder",vector:t[3],label:"Rudder"}}),F=new X({props:{class:"ship",vector:t[5],maxMagnitude:x*t[4].length,label:"Ship"}}),{c(){e=h("main"),l=h("form"),u=h("table"),r=h("thead"),r.innerHTML=`<tr><th>Source</th> 
          <th>Direction</th> 
          <th>Magnitude</th> 
          <th>Facing</th></tr>`,a=z(),n=h("tbody"),R(i.$$.fragment),m=z(),R(f.$$.fragment),v=z(),R(g.$$.fragment),_=z(),R(c.$$.fragment),C=z(),R(F.$$.fragment),b(u,"class","svelte-1gpm1qw"),b(e,"class","svelte-1gpm1qw")},m(s,D){re(s,e,D),o(e,l),o(l,u),o(u,r),o(u,a),o(u,n),S(i,n,null),o(n,m),S(f,n,null),o(n,v),S(g,n,null),o(n,_),S(c,n,null),o(n,C),S(F,n,null),p=!0},p:B,i(s){p||(E(i.$$.fragment,s),E(f.$$.fragment,s),E(g.$$.fragment,s),E(c.$$.fragment,s),E(F.$$.fragment,s),p=!0)},o(s){N(i.$$.fragment,s),N(f.$$.fragment,s),N(g.$$.fragment,s),N(c.$$.fragment,s),N(F.$$.fragment,s),p=!1},d(s){s&&oe(e),j(i),j(f),j(g),j(c),j(F)}}}function Se(t){const e=Z(new V(0,1)),l=Z(new V(0,1)),u=Z(new V(0,1)),r=Z(new V(0,1)),a=[e,l,u,r],n=ze(a,i=>{let m=0,f=0;for(const _ of i)m+=Math.cos(_.direction)*_.magnitude,f+=Math.sin(_.direction)*_.magnitude;const v=Math.atan2(f,m),g=we(m,f);return new V(v,g)});return[e,l,u,r,a,n]}class Ee extends ae{constructor(e){super();le(this,e,Se,Re,ie,{})}}new Ee({target:document.getElementById("app")});
